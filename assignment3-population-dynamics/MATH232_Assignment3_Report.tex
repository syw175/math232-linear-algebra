\documentclass[10pt]{article}
\usepackage[paper=letterpaper,margin=2cm]{geometry}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{newtxtext, newtxmath}
\usepackage{enumitem}
\usepackage{titling}
\usepackage{graphicx}    %  in the preamble
\usepackage{fancyhdr}
\usepackage{subcaption}
\usepackage[colorlinks=true]{hyperref}

\setlength{\droptitle}{-10em}

\fancyhf{}
\fancyhead[L]{MATH 232: Linear Algebra}
\fancyhead[R]{Steven Wong, 301337727}
% \fancyfoot[L]{Population Distribution Data: https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1710000501}
% \fancyfoot[L]{Fertility Rate Data: https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1310041801}
% \fancyfoot[L]{Mortality Rate Data: https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1310071001}
% \fancyfoot[L]{Immigration Rate Data: https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1710001401}
\renewcommand\headrulewidth{0pt}
\pagestyle{fancy}

\begin{document}

\noindent\makebox[\textwidth][c]{\Large\bfseries Assignment 3: Population Dynamics}
\normalsize
\begin{enumerate}[leftmargin=\labelsep]
    \item 
    To find the age distribution, birth rate, and morality rates for the Canadian population, I gathered data from Statistics Canada's website where time
    $t_0$ was set to the year $2020$, as this is the most recent year for which data is available for all three of these variables. In order to
    create 100 bin vectors, I assumed that the distribution of the data was uniform over each of the defined age groups. For example, the population 
    of age group $0-4$ was $1,918,870$ people, and therefore, each bin should have a value of 1,918,870 / 5 = 383,774 people. Calculations for the birth and mortality rates
    follow similarly.
        
    \item Similarly to the discrete dynamical model described by Boyd and Vandenberghe, the birth rate was given by a 100-vector b where $b_i$ is the average births per person with age $i-1$. The mortality
    rate is given by a 100-vector d, where $d_i$ is the portion of people aged $i-1$ who die in the current year. Then the transition matrix is given by A where the first row is $b_0$ to $b_{99}$ and subsequent rows are given by $1-d_i$ along the diagonal.
    
    \item Gathering data from Statistics Canada, I formed the population vector as well as the transition matrix which were given by the 2020 age distribution, fertility rates, and mortality rates. Then, I predicted the population of Canada for the years 2028, 2033, and 2038. These results were found by repeatedly multiplying the population vector by the transition matrix in a for loop 8, 13, and 18 times respectively. The results are as shown in Figure 1.
    
    \item I gathered immigration rates from Statistics Canada `Estimates of the components of international migration, by age and sex, annual' for the 2021/2022 year and created a 100 component vector similar to the population distribution. I treated this immigration factor as an exogenous variable, adding it to the results of each iteration in the procedure described in question 3. In these predictions, I assumed that the immigration rates through 2038 would remain constant at the 2021/2022 rate. The results are as shown in Figure 2.

    \item First, the accuracy of model could be increased by improving the quality of the data, specifically, Statistics Canada provided data only across age groups of size 5. To create my model, I was forced to assume that the population, fertility, mortality, and immigration rates were consistent across each age group. Second, we could also take into account the fact that fertility, mortality, and immigration rates are not constant over time and vary based on external factors. This means that the transition matrix is not constant. To solve this issue, we could analyze Statistics Canada data from previous years to model how the transition matrix changes over time and adjust the results of our model according to our findings.
    
    \begin{figure}[h]
        % Side by side figures 
        \begin{minipage}[c]{0.48\linewidth}
        \includegraphics[width=\linewidth]{WithoutImmigration.eps}
        \caption{}
        \end{minipage}
        \hfill
        \begin{minipage}[c]{0.48\linewidth}
        \includegraphics[width=\linewidth]{WithImmigration.eps}
        \caption{}
        \end{minipage}%
    \end{figure}

\end{enumerate}
\end{document}

